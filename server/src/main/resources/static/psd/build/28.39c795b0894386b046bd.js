(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{889:function(e,t,n){"use strict";n.r(t),n.d(t,"parseSVGBlob",(function(){return s}));var c=n(1),r=n(163),i=n(31),a=n(109),o=n.n(a);async function s(e){const t=e.meta;return{name:t.name,fileMeta:t,getPages:await l(e)}}async function l(e){const t=e.meta,n=e.file;let a=await Object(r.b)(n);a=a.replace(/<\?xml.*\?>/,"");const s=Object(i.invisibleDiv)();let l=o()(s);l.svg(a);const h=l.children()[1],u=h.viewbox();return Object(i.cachePromise)(async()=>{const e={id:t.name,name:t.name,width:u.width,height:u.height,getPreview:Object(i.cachePromise)(async()=>{const e=new Image;return e.src=URL.createObjectURL(n),e}),getLayers:Object(i.cachePromise)(async()=>function e(t,n,r){return t.filter(e=>-1===f.indexOf(e.type)).map(t=>{const a=t.rbox();!function(e){g.forEach(t=>{let n=e.node.getAttribute(t);if(!n){const c=e.parents();for(let r=0;r<c.length;r++){if(n=c[r].node.getAttribute(t),n){e.attr(t,n);break}}}})}(t);const s=new c.Rect(a.x,a.y,a.x2,a.y2).pan(999,999),l={name:t.attr("id")||t.name||t.type,rect:s.round(),page:n,layerType:c.LayerType.vector,visible:!0};if(t instanceof o.a.Parent){const a={...l,layerType:c.LayerType.folderVector,children:Object(i.cachePromise)(async()=>{const c=e(t.children(),n,r);return c.forEach(e=>e.parent=a),c}),childrenLength:t.children().length,getSvgString:Object(i.cachePromise)(async()=>y(t))};return a}if(t instanceof o.a.Text){const e=t,n=e.font();return{...l,layerType:c.LayerType.text,getText:Object(i.cachePromise)(async()=>e.text().trim()),style:{fontFamily:n["font-family"],fontSize:n["font-size"],fontStyle:n["font-style"],fontWeight:n["font-weight"],fill:n.fill,textDecoration:e.attr("text-decoration")}}}return{...l,layerType:c.LayerType.vector,getSvgString:Object(i.cachePromise)(async()=>y(t)),style:{fill:t.attr("fill")}}})}(h.children(),e,h)),toLayer:Object(i.cachePromise)(async()=>({name:e.name,rect:new c.Rect(0,0,e.width,e.height),layerType:c.LayerType.vector,visible:!0,page:e,getSvgString:Object(i.cachePromise)(async()=>h.svg())})),layerAmount:h.children().length};return[e]})}const f=["title","desc","defs"];function y(e){return`${function(e){const t=e.svg(),n=[];if(h.forEach(e=>{let c;for(;c=e.exec(t);)c[1]&&-1===n.indexOf(c[1])&&n.push(c[1])}),n.length>0){const t=e.doc();return`<defs>${n.map(e=>{const n=t.select(e);if(n.length()>0)return y(n.get(0))}).join("\n")}</defs>`}return""}(e)}\n${function(e){const t=e.doc().select("style");if(t.length()>0){let e="";return t.each(n=>{e+=t.get(n).svg()}),`<defs>${e}</defs>`}return""}(e)}\n${e.svg()}`}const h=[/url\((#.*?)\)/g,/xlink:href="(#.*?)"/g];const g=["fill"]}}]);